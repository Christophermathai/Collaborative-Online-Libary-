<!doctype html>
<html data-wf-domain="growtogether-homepage.webflow.io" data-wf-page="678902140b368baa2baa1bdb"
  data-wf-site="678902140b368baa2baa1b95" data-wf-status="1" lang="en" data-wf-locale="en">

<head>
  <meta charset="utf-8" />
  <title>GrowTogether</title>
  <meta property="og:type" content="website" />
  <meta content="summary_large_image" name="twitter:card" />
  <meta content="width=device-width, initial-scale=1" name="viewport" />
  {% load static %}
  <link rel="stylesheet" type="text/css" href="{% static 'css/User_Page.css' %}">
  <script type="text/javascript">
    ! function(o, c) {
      var n = c.documentElement,
        t = " w-mod-";
      n.className += t + "js", ("ontouchstart" in o || o.DocumentTouch && c instanceof DocumentTouch) && (n.className +=
        t + "touch")
    }(window, document);
  </script>
  <link href="{% static 'images/678910838bd28667794ede57_qwerty.png' %}" rel="shortcut icon" type="image/x-icon" />
  <link rel="stylesheet" href="https://cdn.datatables.net/2.2.2/css/dataTables.dataTables.css" />
  

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
  <script src="{% static 'js/plugin-connect-primer.js' %}" type="text/javascript"
    integrity="sha256-iWnCSE8F7/dH0mlIaUOF84D0Dsm/9qc/LYtx628r4Lw=" crossorigin="anonymous"
    data-is-id="is-plugin-connect-primer"></script>
  <style>
    .user-info h3 {
      font-size: 22px;
      color: #fff;
      margin: 0;
    }

    .user-info p {
      font-size: 20px;
      color: #fff;
      margin: 2px 0 0;
    }

    * {
      color: #fff;
    }

    #myTable {
      border-collapse: collapse;
      table-layout: fixed;
      color: white;
    }

    #myTable th,
    #myTable td {
      padding: 10px;
      text-align: left;
      word-wrap: break-word;
    }

    /* Fix the text color for the search input and record count */
    .dataTables_wrapper .dataTables_length {
      float: left;
      margin-bottom: 10px;
    }

    .dataTables_wrapper .dataTables_filter {
      float: right;
      margin-bottom: 10px;
    }

    .dataTables_wrapper::after {
      content: "";
      clear: both;
      display: table;
    }

    .dataTables_wrapper .dataTables_length select option {
      color: black !important;
      background-color: white;
    }

    /* Maintain text color fixes */
    .dataTables_wrapper .dataTables_filter input,
    .dataTables_wrapper .dataTables_length select {
      color: black !important;
      width: fit-content;
    }

    /* Style pagination buttons */
    .dataTables_wrapper .dataTables_paginate .paginate_button {
      color: white !important;
    }

    /* Highlight active pagination button */
    .dataTables_wrapper .dataTables_paginate .paginate_button.current {
      color: white !important;
    }
    table.dataTable {
      border-collapse: collapse !important;
  }
  </style>
</head>

<body>
  <div data-animation="default" class="nav w-nav" data-easing2="ease" fs-scrolldisable-element="smart-nav"
    data-easing="ease" data-collapse="medium" data-w-id="abad23f6-3206-d95e-518e-2548f4c46996" role="banner"
    data-duration="400">
    <div class="nav-container">
      <div class="logo-wrapper">
        <a href="/" aria-current="page" class="logo w-nav-brand w--current"><img class="image"
            src={% static 'images/678910838bd28667794ede57_qwerty.png' %} height="50" alt="" sizes="49.57291793823242px"
            border-radius="" loading="lazy" srcset="
                {% static 'images/678910838bd28667794ede57_qwerty-p-500.png'%} 500w,
                {% static 'images/678910838bd28667794ede57_qwerty-p-800.png'%} 800w,
                {% static 'images/678910838bd28667794ede57_qwerty.png' %}       825w
              " /></a>

        <h5 class="text-gradient-overlay">GrowTogether</h5>
        <nav role="navigation" id="w-node-abad23f6-3206-d95e-518e-2548f4c4699b-f4c46996" class="nav-menu w-nav-menu">
          <a href="{% url 'BookSearch' %}" class="nav-link w-nav-link w-current">Search</a>
          <a href="{% url 'UserProfile' %}" class="nav-link w-nav-link w-current">Profile</a><a
            href="{% url 'listdocument' %}" class="nav-link w-nav-link">Uploads</a>
        </nav>
      </div>
      <div id="w-node-abad23f6-3206-d95e-518e-2548f4c469b0-f4c46996" class="logo-wrapper2">
        <h5><tt>Hi,<b>{{ session_data.name }}</b></tt></h5>
        <a href="{% url 'Logout' %}" class="button-secondary small hide-mobile-portrait w-button">Log Out</a><a
          href="{% url 'edituview' %}" class="button small hide-mobile-portrait w-button">Edit User</a>
        <a href="{% url 'documentaddpage' %}" class="button small hide-mobile-portrait w-button">Add</a>
        <div class="nav-menu-button w-nav-button">
          <div class="menu-icon">
            <div class="menu-icon-line-top"></div>
            <div class="menu-icon-line-bottom"></div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <section class="section" style="padding-top:0.8rem;padding-bottom:0px">
    <h2 data-w-id="263c9809-9278-e473-a755-b7ffb7acb5c2" class="heading large"><span class="text-gradient-overlay">Profile</span></h2>
    <div class="container-large">
      <div class="spacer-64"></div>
      <div class="w-layout-grid testimonials-list">
        <div id="w-node-fb4259e2-12f1-5169-34ca-8b2c403fd7d0-b7acb5bf" data-w-id="fb4259e2-12f1-5169-34ca-8b2c403fd7d0"
          class="testimonials-card">

          <div class="d-flex align-items-center gap-5 flex-wrap">
            <!-- Profile Image -->
            <div class="profile-image-wrapper">
              <img src="{% static 'images/profilepic.png' %}" alt="Profile Picture">
            </div>

            <!-- User Info -->
            <div class="user-info">
              <h3>Email:</h3>
              <p>{{ session_data.email }}</p>
            </div>
            <div class="user-info">
              <h3>No of Document Uploaded:</h3>
              <p>{{ no_of_documents }}</p>
            </div>
            <div class="user-info">
              <h3>Credits:</h3>
              <p>{{ session_data.credits }}</p>
            </div>
            <div class="user-info">
              <h3>Course:</h3>
              <p>{{ session_data.course }}</p>
            </div>
            <div class="user-info">
              <h3>Sem:</h3>
              <p>{{ session_data.sem }}</p>
            </div>
            <div class="user-info">
              <h3>Joined On:</h3>
              <p>{{ session_data.join_date }}</p>
            </div>
            <div class="user-info">
              <h3>FlashStyle</h3>
              <div class="user-info">
                <select id="flashStyleDropdown" class="form-select"></select>
              </div>
            </div>

          </div>

        </div>

      </div>
    </div>
    </div>
  </section>
  <section class="section" style="padding-top:0px">
    <div class="container-large" style="padding-top:0.9rem;">
      <div class="testimonials-list">
        <div id="w-node-fb4259e2-12f1-5169-34ca-8b2c403fd7d0-b7acb5bf" data-w-id="fb4259e2-12f1-5169-34ca-8b2c403fd7d0"
          class="testimonials-card">
          <h3 data-w-id="263c9809-9278-e473-a755-b7ffb7acb5c2" class="heading medium text-gradient-overlay">Uploaded
            Documents</h3>
          <div class="spacer-32"></div>
          <table id="myTable" class="table table-dark  align-middle " style="border-radius:20px">
            <thead>
              <tr>
                <th>Document Title</th>
                <th>Document Author</th>
                <th>Discipline</th>
                <th>Uploaded On</th>
                <th>Course</th>
                <th>Sem</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody>
              {% for books in documents%}
              <tr>
                <td>{{books.Title}}</td>
                <td>{{books.Author}}</td>
                <td>{{books.Discipline}}</td>
                <td>{{books.UploadDate}}</td>
                <td>{{books.Course_ID}}</td>
                <td>{{books.Sem}}</td>
                <td>{{books.Description}}</td>
              </tr>
              {%empty%}
              <h5>No Books Uploaded</h5>
              {%endfor%}
            </tbody>
          </table>
        </div>
      </div>
    </div>
    </div>
  </section>
</body>
<script src="https://d3e54v103j8qbb.cloudfront.net/js/jquery-3.5.1.min.dc5e7f18c8.js?site=678902140b368baa2baa1b95"
  type="text/javascript" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous">
</script>
<script
  src="https://wf-cdn-patched.siteclone.io/678902140b368baa2baa1b95/js/webflow.2ebc7450c4647e839f0d134ddedf8187.js"
  type="text/javascript"></script>
<<!-- Load jQuery first -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>

  <!-- Then load DataTables -->
  <script src="https://cdn.datatables.net/1.13.6/js/jquery.dataTables.min.js"></script>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous">
  </script>

  <script>
    $(document).ready(function() {
      $('#myTable').DataTable();
    });
  </script>
  <script>
    document.addEventListener("DOMContentLoaded", function() {
      let selectedStyle = "{{ session_data.flash_style }}"; // Pre-selected value
      fetch("{% url 'get_flash_styles' %}")
        .then(response => response.json())
        .then(data => populateDropdown(data.styles, selectedStyle))
        .catch(error => console.error("Error fetching flash styles:", error));
    });

    function populateDropdown(styles, selectedStyle) {
      let dropdown = document.getElementById("flashStyleDropdown");
      dropdown.innerHTML = ""; // Clear existing options
      styles.forEach(style => {
        let option = document.createElement("option");
        option.value = style.id;
        option.textContent = style.style_name;
        option.selected = style.id == selectedStyle; // Set selected option
        dropdown.appendChild(option);
      });
      dropdown.addEventListener("change", function() {
        updateFlashStyle(this.value);
      });
    }

    function updateFlashStyle(selectedStyle) {
      fetch("{% url 'update_flash_style' %}", {
          method: "POST",
          headers: {
            "Content-Type": "application/json",
            "X-CSRFToken": "{{ csrf_token }}"
          },
          body: JSON.stringify({
            flash_style: selectedStyle
          })
        })
        .then(response => response.json())
        .then(data => {
          if (data.success) {
            alert("Flash style updated successfully!");
          } else {
            alert("Failed to update flash style.");
          }
        })
        .catch(error => console.error("Error:", error));
    }
  </script>

</html>